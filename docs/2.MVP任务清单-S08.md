# Sprint 08: 移动端独立适配 (独立视图策略)

## 1. 背景与故事 (User Story)

**背景**：
在 Sprint 07 的尾声，我们尝试通过 CSS Media Queries 将桌面端复杂的 IDE 风格布局（固定高度、内部滚动）强行适配到移动端。
**结果**：
虽然实现了移动端的基本可用，但严重破坏了桌面端精心调教的“沉浸式应用体验”（UI 结构松散、滚动条混乱、高度塌陷）。
**决策**：
回滚之前的响应式补丁。采用“独立视图”策略。即：桌面端保持原有的复杂布局不变，移动端采用一套全新的、简化的页面结构或布局组件。

## 2. 核心目标
1. **恢复桌面端体验**：将代码回滚至桌面端完美适配的状态。
2. **移动端独立入口**：通过路由或视口检测，为移动端用户提供独立的 Layout 和视图。
3. **移动端特性迁移**：将之前开发的“顶部导航”、“自动跟随开关”等特性迁移到移动端专用视图中。

## 3. 任务清单

### 3.1 代码回滚 (Rollback)
- [ ] **Revert**: `web/src/components/Layout.tsx` (恢复侧边栏布局，移除顶部导航)
- [ ] **Revert**: `web/src/pages/ProjectDetailPage.tsx` (恢复 h-full 和 grid 布局)
- [ ] **Revert**: `web/src/components/MediaPlayer.tsx` (移除硬编码高度，恢复自适应)
- [ ] **Revert**: `web/src/components/TranscriptionResult.tsx` (保留自动跟随功能的逻辑代码，但恢复 UI 布局)
- [ ] **Revert**: 其他页面的 Padding 调整。

### 3.2 架构调整 (Architecture)
- [ ] **路由分离**:
    - 方案 A: 使用 `react-device-detect` 或简单的 `window.innerWidth` 在 `App.tsx` 级别区分 `<DesktopLayout />` 和 `<MobileLayout />`。
    - 方案 B: 保持统一路由，但在 Page 内部根据设备渲染不同组件（如 `ProjectDetailPage` 内部 `return isMobile ? <MobileView /> : <DesktopView />`）。
    - *建议采用方案 A 或 B 的混合，主要针对 Layout 和 DetailPage 进行拆分。*

### 3.3 移动端视图实现 (Mobile Views)
- [ ] **MobileLayout**:
    - 实现底部或顶部导航栏（之前做的 Top Nav 很好，可以复用）。
    - 简单的流式布局容器。
- [ ] **MobileProjectDetail**:
    - 垂直堆叠布局 (Stack Layout)。
    - 顶部固定播放器 (320px/Aspect Ratio)。
    - 下方可滚动的转写列表。
    - 独立的“自动跟随”开关按钮。
- [ ] **MobileProjectList**:
    - 简化的卡片列表视图。

### 3.4 功能复刻
- [ ] **自动跟随开关**: 这是一个好功能，桌面端也可以保留，但在移动端是必须的。

## 4. 预期产出
- 桌面端：恢复如初，保持专业的生产力工具体验。
- 手机端：类似通过浏览器访问的一个简化版 App，操作流畅，无布局冲突。

