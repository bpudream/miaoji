# Sprint 3: 前端基础开发（Week 7-8）

### 目标
开发前端界面，实现文件上传、转写和结果展示

### User Stories

#### US-3.1 前端项目配置
**作为** 前端开发者
**我想要** 完整的前端开发环境
**以便** 开始 UI 开发

**验收标准**:
- [ ] React + TypeScript 项目运行正常
- [ ] Tailwind CSS 配置完成
- [ ] 路由和状态管理就绪

**任务拆解**:
- [ ] Task-3.1.1: 安装和配置 Tailwind CSS（1h）
- [ ] Task-3.1.2: 安装 React Router（30min）
- [ ] Task-3.1.3: 安装 Zustand 状态管理（30min）
- [ ] Task-3.1.4: 安装 axios 和 socket.io-client（30min）
- [ ] Task-3.1.5: 创建基础布局组件（2h）
  - Header, Sidebar, MainContent
- [ ] Task-3.1.6: 配置路由结构（1h）
  ```
  / - 首页/项目列表
  /project/:id - 项目详情
  /settings - 设置
  ```

---

#### US-3.2 API 客户端封装
**作为** 前端开发者
**我想要** 封装好的 API 客户端
**以便** 方便调用后端接口

**验收标准**:
- [ ] axios 统一配置
- [ ] 错误处理统一
- [ ] 类型定义完整

**任务拆解**:
- [ ] Task-3.2.1: 创建 API 客户端基类（2h）
  ```typescript
  // services/api.ts
  const api = axios.create({
    baseURL: 'http://localhost:8080'
  });
  ```
- [ ] Task-3.2.2: 实现项目相关 API（2h）
  - uploadFile, getProjects, getProject, deleteProject
- [ ] Task-3.2.3: 实现转写相关 API（1h）
  - startTranscription, getTranscription, getStatus
- [ ] Task-3.2.4: 添加请求拦截器（1h）
  - 添加 token（如果有认证）
  - 统一错误处理
- [ ] Task-3.2.5: 创建 TypeScript 类型定义（2h）

---

#### US-3.3 文件上传界面
**作为** 用户
**我想要** 简单易用的文件上传界面
**以便** 快速上传音视频文件

**验收标准**:
- [ ] 支持拖拽上传
- [ ] 支持文件选择器
- [ ] 显示上传进度
- [ ] 文件格式验证

**任务拆解**:
- [ ] Task-3.3.1: 创建 FileUploader 组件（3h）
  ```tsx
  <FileUploader
    onUpload={handleUpload}
    onProgress={handleProgress}
  />
  ```
- [ ] Task-3.3.2: 实现拖拽上传功能（2h）
- [ ] Task-3.3.3: 实现上传进度显示（2h）
  - 进度条
  - 百分比
  - 预估剩余时间
- [ ] Task-3.3.4: 添加文件类型验证（1h）
- [ ] Task-3.3.5: 美化 UI 样式（2h）

---

#### US-3.4 项目列表页面
**作为** 用户
**我想要** 查看所有上传的项目
**以便** 选择和管理它们

**验收标准**:
- [ ] 显示项目列表
- [ ] 显示项目状态（pending/processing/completed）
- [ ] 支持删除操作
- [ ] 点击项目进入详情

**任务拆解**:
- [ ] Task-3.4.1: 创建 ProjectList 组件（3h）
- [ ] Task-3.4.2: 实现项目卡片组件（2h）
  ```tsx
  <ProjectCard
    project={project}
    onDelete={handleDelete}
    onClick={handleClick}
  />
  ```
- [ ] Task-3.4.3: 实现状态筛选（1h）
- [ ] Task-3.4.4: 实现排序功能（1h）
- [ ] Task-3.4.5: 添加空状态提示（1h）
- [ ] Task-3.4.6: 实现分页（2h）

---

#### US-3.5 转写详情页面
**作为** 用户
**我想要** 查看转写结果
**以便** 阅读和使用文字内容

**验收标准**:
- [ ] 显示转写文本
- [ ] 显示时间戳
- [ ] 支持文本复制
- [ ] 转写中显示进度

**任务拆解**:
- [ ] Task-3.5.1: 创建 ProjectDetail 页面（2h）
- [ ] Task-3.5.2: 创建转写结果展示组件（3h）
  ```tsx
  <TranscriptionView
    segments={segments}
    isLoading={isLoading}
  />
  ```
- [ ] Task-3.5.3: 实现分段显示（2h）
  - 每个分段显示时间和文本
- [ ] Task-3.5.4: 添加开始转写按钮（1h）
- [ ] Task-3.5.5: 实现转写进度显示（2h）
  - 进度条
  - 状态提示
- [ ] Task-3.5.6: 添加复制功能（1h）

---

#### US-3.6 Zustand 状态管理
**作为** 前端开发者
**我想要** 统一的状态管理
**以便** 在各组件间共享数据

**验收标准**:
- [ ] Store 结构清晰
- [ ] 异步操作处理完善
- [ ] TypeScript 类型安全

**任务拆解**:
- [ ] Task-3.6.1: 创建 useAppStore（3h）
  ```typescript
  interface AppState {
    projects: Project[];
    currentProject: Project | null;
    // ...
  }
  ```
- [ ] Task-3.6.2: 实现项目相关 actions（2h）
  - loadProjects, selectProject, deleteProject
- [ ] Task-3.6.3: 实现转写相关 actions（2h）
  - startTranscription, loadTranscription
- [ ] Task-3.6.4: 添加 loading 和 error 状态（1h）

---

**Sprint 3 总结**:
- **总估时**: 约 45-50 小时
- **关键交付物**:
  - ✅ 前端基础界面
  - ✅ 文件上传功能
  - ✅ 项目列表和详情页
